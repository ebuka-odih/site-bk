import{u as L,r as k,j as e,H,L as F}from"./app-DsaYr9ov.js";import{A as M}from"./AdminLayout-B54kbsd4.js";import{B as d,C as h,a as b,b as g,c as f,d as j}from"./card-DjYOWe5w.js";import{A as U}from"./arrow-left-DxCFJoe2.js";/* empty css            */import"./createLucideIcon-Jc8OllCn.js";function J({types:A}){const{data:l,setData:c,post:E,processing:w,errors:n}=L({type:"bank",name:"",key:"",enabled:!0,min_amount:1e3,max_amount:"",processing_time:"",fee_percentage:"",fee_fixed:"",requires_reference:!0,sort_order:0,configuration:{},instructions:{},notes:[]}),[i,y]=k.useState([{key:"",value:""}]),[m,N]=k.useState([{key:"",value:""}]),[x,C]=k.useState([""]),[p,_]=k.useState([{currency:"BTC",name:"Bitcoin (BTC)",address:"",network:"Bitcoin"},{currency:"ETH",name:"Ethereum (ETH)",address:"",network:"Ethereum (ERC-20)"},{currency:"USDT",name:"Tether (USDT)",address:"",network:"Ethereum (ERC-20)"}]),T=t=>{t.preventDefault();const s={};if(l.type==="crypto"){const o={};p.forEach(u=>{u.currency&&u.address&&(o[u.currency]={name:u.name,address:u.address,network:u.network})}),Object.keys(o).length>0&&(s.currencies=o)}i.forEach(o=>{o.key&&o.value&&(s[o.key]=o.value)});const a={};m.forEach(o=>{o.key&&o.value&&(a[o.key]=o.value)});const r=x.filter(o=>o.trim()!=="");E("/admin/payment-methods",{...l,configuration:s,instructions:a,notes:r})},B=()=>{y([...i,{key:"",value:""}])},I=t=>{y(i.filter((s,a)=>a!==t))},R=()=>{N([...m,{key:"",value:""}])},S=t=>{N(m.filter((s,a)=>a!==t))},W=()=>{C([...x,""])},q=t=>{C(x.filter((s,a)=>a!==t))},P=()=>{_([...p,{currency:"",name:"",address:"",network:""}])},D=t=>{_(p.filter((s,a)=>a!==t))},v=(t,s,a)=>{const r=[...p];r[t][s]=a,_(r)};return e.jsxs(M,{children:[e.jsx(H,{title:"Add Payment Method"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(F,{href:"/admin/payment-methods",children:e.jsxs(d,{variant:"ghost",className:"text-slate-400 hover:text-slate-50",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Back"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-50",children:"Add Payment Method"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Configure a new deposit method"})]})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs(h,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(b,{children:[e.jsx(g,{className:"text-slate-50",children:"Basic Information"}),e.jsx(f,{className:"text-slate-400",children:"Set up the basic details for this payment method"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Type ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("select",{value:l.type,onChange:t=>c("type",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",children:Object.entries(A).map(([t,s])=>e.jsx("option",{value:t,children:s},t))}),n.type&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.type})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:l.name,onChange:t=>c("name",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., Bank Transfer"}),n.name&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Key (Unique Identifier) ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:l.key,onChange:t=>c("key",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., bank_transfer"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Use lowercase with underscores, e.g., bank_transfer"}),n.key&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.key})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Min Amount (cents) ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"number",value:l.min_amount,onChange:t=>c("min_amount",parseInt(t.target.value)),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"1000"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"1000 = $10.00"}),n.min_amount&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.min_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Amount (cents)"}),e.jsx("input",{type:"number",value:l.max_amount,onChange:t=>c("max_amount",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Leave empty for no limit"}),n.max_amount&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.max_amount})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Processing Time"}),e.jsx("input",{type:"text",value:l.processing_time,onChange:t=>c("processing_time",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., 1-3 business days"}),n.processing_time&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.processing_time})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Fee Percentage (%)"}),e.jsx("input",{type:"number",step:"0.01",value:l.fee_percentage,onChange:t=>c("fee_percentage",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., 2.9"}),n.fee_percentage&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.fee_percentage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Fixed Fee (cents)"}),e.jsx("input",{type:"number",value:l.fee_fixed,onChange:t=>c("fee_fixed",t.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., 2500 for $25"}),n.fee_fixed&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:n.fee_fixed})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l.enabled,onChange:t=>c("enabled",t.target.checked),className:"rounded bg-slate-800 border-slate-700 text-amber-600 focus:ring-amber-500"}),e.jsx("span",{className:"text-sm text-slate-300",children:"Enabled"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l.requires_reference,onChange:t=>c("requires_reference",t.target.checked),className:"rounded bg-slate-800 border-slate-700 text-amber-600 focus:ring-amber-500"}),e.jsx("span",{className:"text-sm text-slate-300",children:"Requires Payment Reference"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort Order"}),e.jsx("input",{type:"number",value:l.sort_order,onChange:t=>c("sort_order",parseInt(t.target.value)),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"0"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Lower numbers appear first"})]})]})]}),l.type==="crypto"&&e.jsxs(h,{className:"bg-slate-900 border-slate-800 mt-6",children:[e.jsxs(b,{children:[e.jsx(g,{className:"text-slate-50",children:"Cryptocurrency Wallets"}),e.jsx(f,{className:"text-slate-400",children:"Add wallet addresses for different cryptocurrencies"})]}),e.jsxs(j,{className:"space-y-4",children:[p.map((t,s)=>e.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg space-y-3 border border-slate-700",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Currency Code"}),e.jsx("input",{type:"text",value:t.currency,onChange:a=>v(s,"currency",a.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., BTC, ETH, USDT"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Display Name"}),e.jsx("input",{type:"text",value:t.name,onChange:a=>v(s,"name",a.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., Bitcoin (BTC)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Wallet Address"}),e.jsx("input",{type:"text",value:t.address,onChange:a=>v(s,"address",a.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Network"}),e.jsx("input",{type:"text",value:t.network,onChange:a=>v(s,"network",a.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., Bitcoin, Ethereum (ERC-20)"})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-slate-700",children:[e.jsx("div",{className:"flex-1 text-xs text-slate-500",children:t.currency&&t.address?"âœ“ Ready to save":"Fill in Currency Code and Wallet Address"}),e.jsx(d,{type:"button",variant:"ghost",onClick:()=>D(s),className:"text-red-400 hover:text-red-300",children:"Remove"})]})]},s)),e.jsx(d,{type:"button",variant:"outline",onClick:P,children:"Add Currency"})]})]}),e.jsxs(h,{className:"bg-slate-900 border-slate-800 mt-6",children:[e.jsxs(b,{children:[e.jsx(g,{className:"text-slate-50",children:l.type==="crypto"?"Additional Configuration":"Configuration"}),e.jsx(f,{className:"text-slate-400",children:l.type==="crypto"?"Add any additional configuration (optional)":"Add configuration details (e.g., account numbers, API keys)"})]}),e.jsxs(j,{className:"space-y-4",children:[i.map((t,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.key,onChange:a=>{const r=[...i];r[s].key=a.target.value,y(r)},className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Key (e.g., api_key)"}),e.jsx("input",{type:"text",value:t.value,onChange:a=>{const r=[...i];r[s].value=a.target.value,y(r)},className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Value"}),e.jsx(d,{type:"button",variant:"ghost",onClick:()=>I(s),className:"text-red-400 hover:text-red-300",children:"Remove"})]},s)),e.jsx(d,{type:"button",variant:"outline",onClick:B,children:"Add Field"})]})]}),e.jsxs(h,{className:"bg-slate-900 border-slate-800 mt-6",children:[e.jsxs(b,{children:[e.jsx(g,{className:"text-slate-50",children:"Instructions"}),e.jsx(f,{className:"text-slate-400",children:"Payment instructions shown to users"})]}),e.jsxs(j,{className:"space-y-4",children:[m.map((t,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.key,onChange:a=>{const r=[...m];r[s].key=a.target.value,N(r)},className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Label (e.g., Account Number)"}),e.jsx("input",{type:"text",value:t.value,onChange:a=>{const r=[...m];r[s].value=a.target.value,N(r)},className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Value"}),e.jsx(d,{type:"button",variant:"ghost",onClick:()=>S(s),className:"text-red-400 hover:text-red-300",children:"Remove"})]},s)),e.jsx(d,{type:"button",variant:"outline",onClick:R,children:"Add Instruction"})]})]}),e.jsxs(h,{className:"bg-slate-900 border-slate-800 mt-6",children:[e.jsxs(b,{children:[e.jsx(g,{className:"text-slate-50",children:"Notes"}),e.jsx(f,{className:"text-slate-400",children:"Important notes or disclaimers for users"})]}),e.jsxs(j,{className:"space-y-4",children:[x.map((t,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:a=>{const r=[...x];r[s]=a.target.value,C(r)},className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-50 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Note text"}),e.jsx(d,{type:"button",variant:"ghost",onClick:()=>q(s),className:"text-red-400 hover:text-red-300",children:"Remove"})]},s)),e.jsx(d,{type:"button",variant:"outline",onClick:W,children:"Add Note"})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx(d,{type:"submit",disabled:w,className:"bg-amber-600 hover:bg-amber-700 text-white",children:w?"Creating...":"Create Payment Method"}),e.jsx(F,{href:"/admin/payment-methods",children:e.jsx(d,{type:"button",variant:"outline",children:"Cancel"})})]})]})]})]})}export{J as default};
