import{r as d,j as e,u as L,H as S,a as N}from"./app-DTiM-GE2.js";import{A as R,X as U}from"./AdminLayout-CshYxcwW.js";import{e as F,C as h,a as f,b as j,c as b,d as g,B as m}from"./card-D9LfDUC9.js";import{T as I}from"./trash-2-Nnh9WVGm.js";import{c as M}from"./createLucideIcon-CFa8QLqb.js";import{D as A}from"./download-2D27w8eo.js";import{I as E}from"./info-CaHm8Zy9.js";/* empty css            *//**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],O=M("database",B),n=d.forwardRef(({className:s,type:c="text",...i},t)=>e.jsx("input",{type:c,className:F("flex h-11 w-full rounded-lg border border-slate-700/80 bg-slate-950/60 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500/60 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i}));n.displayName="Input";function K({settings:s}){const c=L({site_name:s.site.name??"",site_email:s.site.email??"",support_email:s.site.support_email??"",app_url:s.site.url??"",timezone:s.site.timezone??"",currency:s.site.currency??"",site_logo:null,remove_logo:!1}),{data:i,setData:t,errors:r,processing:_}=c;d.useEffect(()=>{t(a=>({...a,site_name:s.site.name??"",site_email:s.site.email??"",support_email:s.site.support_email??"",app_url:s.site.url??"",timezone:s.site.timezone??"",currency:s.site.currency??"",site_logo:null,remove_logo:!1}))},[t,s.site.currency,s.site.email,s.site.name,s.site.support_email,s.site.timezone,s.site.url]);const[x,u]=d.useState(s.branding.logo_url??null),[o,p]=d.useState(null);d.useEffect(()=>{i.site_logo||u(s.branding.logo_url??null)},[s.branding.logo_url,i.site_logo]),d.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]);const y=()=>{confirm("Clear application cache?")&&N.post("/admin/settings/clear-cache")},C=()=>{confirm("Run database migrations? This may affect the database.")&&N.post("/admin/settings/run-migrations")},w=a=>{const l=a.target.files?.[0]??null;if(o&&(URL.revokeObjectURL(o),p(null)),t("site_logo",l),t("remove_logo",!1),l){const v=URL.createObjectURL(l);u(v),p(v)}else u(s.branding.logo_url??null)},k=()=>{o&&(URL.revokeObjectURL(o),p(null)),t("site_logo",null),t("remove_logo",!0),u(null)},z=a=>{a.preventDefault(),c.transform(l=>({...l,site_name:l.site_name.trim()===""?null:l.site_name.trim(),site_email:l.site_email.trim()===""?null:l.site_email.trim(),support_email:l.support_email.trim()===""?null:l.support_email.trim(),app_url:l.app_url.trim()===""?null:l.app_url.trim(),timezone:l.timezone.trim()===""?null:l.timezone.trim(),currency:l.currency.trim()===""?null:l.currency.trim()})),c.put("/admin/settings",{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{t("site_logo",null),t("remove_logo",!1),i.site_logo||u(s.branding.logo_url??null)},onFinish:()=>{c.transform(l=>l)}})};return e.jsxs(R,{children:[e.jsx(S,{title:"Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-50",children:"Settings"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Manage application configuration, branding, and security."})]}),e.jsxs("form",{onSubmit:z,className:"space-y-6",children:[e.jsxs(h,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-slate-50",children:"Site Information"}),e.jsx(b,{className:"text-slate-400",children:"Update the public-facing details for your banking portal."})]}),e.jsx(g,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"site_name",className:"block text-sm font-medium text-slate-300",children:"Site Name"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(n,{id:"site_name",value:i.site_name,onChange:a=>t("site_name",a.target.value),placeholder:"Banko"}),r.site_name&&e.jsx("p",{className:"text-sm text-red-400",children:r.site_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"site_email",className:"block text-sm font-medium text-slate-300",children:"Primary Email"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(n,{id:"site_email",type:"email",value:i.site_email,onChange:a=>t("site_email",a.target.value),placeholder:"support@banko.test"}),r.site_email&&e.jsx("p",{className:"text-sm text-red-400",children:r.site_email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"support_email",className:"block text-sm font-medium text-slate-300",children:"Support Email"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(n,{id:"support_email",type:"email",value:i.support_email,onChange:a=>t("support_email",a.target.value),placeholder:"help@banko.test"}),r.support_email&&e.jsx("p",{className:"text-sm text-red-400",children:r.support_email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"app_url",className:"block text-sm font-medium text-slate-300",children:"Application URL"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(n,{id:"app_url",type:"url",value:i.app_url,onChange:a=>t("app_url",a.target.value),placeholder:"https://banko.test"}),r.app_url&&e.jsx("p",{className:"text-sm text-red-400",children:r.app_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-slate-300",children:"Timezone"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(n,{id:"timezone",value:i.timezone,onChange:a=>t("timezone",a.target.value),placeholder:"UTC"}),r.timezone&&e.jsx("p",{className:"text-sm text-red-400",children:r.timezone})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-slate-300",children:"Currency"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(n,{id:"currency",value:i.currency,onChange:a=>t("currency",a.target.value.toUpperCase()),placeholder:"NGN",className:"uppercase"}),r.currency&&e.jsx("p",{className:"text-sm text-red-400",children:r.currency})]})]})]})})]}),e.jsxs(h,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-slate-50",children:"Branding"}),e.jsx(b,{className:"text-slate-400",children:"Upload or replace the logo displayed across the platform."})]}),e.jsx(g,{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6 space-y-4 md:space-y-0",children:[e.jsx("div",{className:"h-24 w-24 rounded-lg border border-slate-700 bg-slate-950 flex items-center justify-center overflow-hidden",children:x?e.jsx("img",{src:x,alt:"Site logo preview",className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-xs text-slate-500 text-center px-2",children:"No logo uploaded"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"site_logo",className:"block text-sm font-medium text-slate-300",children:"Upload Logo"}),e.jsx("input",{id:"site_logo",type:"file",accept:"image/*",onChange:w,className:"mt-2 block w-full text-sm text-slate-300 file:mr-4 file:rounded-md file:border-0 file:bg-emerald-500 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-emerald-900 hover:file:bg-emerald-400"}),r.site_logo&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:r.site_logo}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Accepted formats: PNG, JPG, SVG. Max size 2MB."})]}),(x||s.branding.logo_url)&&e.jsxs(m,{type:"button",variant:"outline",onClick:k,className:"bg-slate-950 border-slate-700 text-slate-200 hover:bg-slate-800 hover:text-slate-50",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Remove Logo"]})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(m,{type:"submit",disabled:_,className:"bg-emerald-600 hover:bg-emerald-500 text-slate-950 font-semibold",children:_?"Saving...":"Save Changes"})})]}),e.jsxs(h,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-slate-50",children:"System Maintenance"}),e.jsx(b,{className:"text-slate-400",children:"Database and cache management tools for administrators."})]}),e.jsxs(g,{className:"space-y-3",children:[e.jsxs(m,{onClick:y,variant:"outline",className:"w-full justify-start bg-slate-800 border-slate-700 hover:bg-slate-700 text-slate-50",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Clear Application Cache"]}),e.jsxs(m,{onClick:C,variant:"outline",className:"w-full justify-start bg-slate-800 border-slate-700 hover:bg-slate-700 text-slate-50",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Run Database Migrations"]}),e.jsx("a",{href:"/admin/settings/backup-database",children:e.jsxs(m,{variant:"outline",className:"w-full justify-start bg-slate-800 border-slate-700 hover:bg-slate-700 text-slate-50",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Download Database Backup"]})}),e.jsx("a",{href:"/admin/settings/system-info",children:e.jsxs(m,{variant:"outline",className:"w-full justify-start bg-slate-800 border-slate-700 hover:bg-slate-700 text-slate-50",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"View System Information"]})})]})]})]})]})}export{K as default};
