import{u as j,j as e,H as u,L as N}from"./app-tvW9aujF.js";import{A as b}from"./AdminLayout-CejoRK8u.js";import{C as d,a as c,b as x,d as m,B as f}from"./card-B5th1hi_.js";import{B as l}from"./badge--75YQZLH.js";import{A as g}from"./arrow-left-FiBLS01Z.js";import{c as v}from"./createLucideIcon-C5wDkul-.js";/* empty css            *//**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],A=v("send",y);function F({code:s,users:o}){const i=new Date(s.expires_at)<new Date,r=!s.is_used&&!i,a=j({user_id:""}),h=t=>{t.preventDefault(),r&&a.post(`/admin/codes/${s.id}/send`,{preserveScroll:!0,onSuccess:()=>a.reset()})},p=t=>{if(t==null)return"Any Amount";const n=typeof t=="string"?parseFloat(t):t;return Number.isFinite(n)?`$${n.toLocaleString("en-US",{minimumFractionDigits:2})}`:"Any Amount"};return e.jsxs(b,{children:[e.jsx(u,{title:`Code: ${s.code}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(N,{href:"/admin/codes",className:"inline-flex items-center text-sm text-slate-400 hover:text-slate-50 mb-4",children:[e.jsx(g,{className:"h-4 w-4 mr-1"}),"Back to Codes"]}),e.jsx("h1",{className:"text-3xl font-bold text-slate-50 font-mono",children:s.code}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Transaction code details"})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[e.jsxs(d,{className:"bg-slate-900 border-slate-800",children:[e.jsx(c,{children:e.jsx(x,{className:"text-slate-50",children:"Code Information"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Code"}),e.jsx("p",{className:"text-2xl font-mono font-bold text-slate-50",children:s.code})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Type"}),e.jsx(l,{className:s.type==="deposit"?"bg-green-900/50 text-green-200 border-green-700":s.type==="withdrawal"?"bg-red-900/50 text-red-200 border-red-700":"bg-blue-900/50 text-blue-200 border-blue-700",children:s.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Amount"}),e.jsx("p",{className:"text-xl font-bold text-slate-50",children:p(s.amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Status"}),s.is_used?e.jsx(l,{className:"bg-slate-800 text-slate-300 border-slate-700",children:"Used"}):i?e.jsx(l,{className:"bg-red-900/50 text-red-200 border-red-700",children:"Expired"}):e.jsx(l,{className:"bg-emerald-900/50 text-emerald-200 border-emerald-700",children:"Active"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Created By"}),e.jsx("p",{className:"text-slate-50",children:s.creator?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Expires At"}),e.jsx("p",{className:"text-slate-50",children:new Date(s.expires_at).toLocaleString()})]}),s.is_used&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Used By"}),e.jsx("p",{className:"text-slate-50",children:s.usedBy?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Used At"}),e.jsx("p",{className:"text-slate-50",children:s.used_at?new Date(s.used_at).toLocaleString():"N/A"})]})]}),s.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Notes"}),e.jsx("p",{className:"text-slate-50",children:s.notes})]})]})]}),e.jsxs(d,{className:"bg-slate-900 border-slate-800",children:[e.jsx(c,{children:e.jsx(x,{className:"text-slate-50",children:"Send Code to User"})}),e.jsx(m,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user",className:"block text-sm font-medium text-slate-300 mb-2",children:"Select Recipient"}),e.jsxs("select",{id:"user",value:a.data.user_id,onChange:t=>a.setData("user_id",t.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-950/60 px-3 py-2 text-sm text-slate-100 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/40",disabled:!r||a.processing,children:[e.jsx("option",{value:"",children:"Choose a user"}),o.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.email,")"]},t.id))]}),a.errors.user_id&&e.jsx("p",{className:"mt-2 text-xs text-rose-300",children:a.errors.user_id})]}),!r&&e.jsx("p",{className:"text-sm text-amber-200",children:"Only active codes can be sent to users."}),e.jsxs(f,{type:"submit",disabled:!r||a.processing||!a.data.user_id,className:"inline-flex items-center justify-center bg-amber-600 hover:bg-amber-700 text-white",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),a.processing?"Sending...":"Send Code"]})]})})]})]})]})]})}export{F as default};
