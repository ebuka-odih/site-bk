import{r as T,j as e,c as C,a as i}from"./app-B1MdF2DY.js";import{C as c,d,B as n}from"./card-CwcHH9b6.js";import{M as D}from"./MobileLayout-CDDg9vTo.js";/* empty css            */function P({auth:u,transaction:s}){const[o,m]=T.useState(!1),a=(s.metadata?.transfer_type==="wire"?"wire":"internal")==="wire",x=s.status==="pending",r=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t/100),p=t=>new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=async()=>{m(!0);try{const t=await C.get(`/transfer/receipt/${s.id}`,{responseType:"blob"}),h=window.URL.createObjectURL(new Blob([t.data])),l=document.createElement("a");l.href=h,l.setAttribute("download",`transaction-${s.reference}.pdf`),document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(h)}catch(t){console.error("Failed to download PDF:",t),alert("Failed to download receipt. Please try again.")}finally{m(!1)}},f=()=>{i.visit("/transactions")},b=()=>{i.visit("/transfer")},N=()=>{i.visit("/dashboard")},w=(()=>{const t=s.status.toLowerCase();return t==="pending"&&a?"Pending Approval":t.charAt(0).toUpperCase()+t.slice(1)})(),v=s.status==="completed"?"bg-green-900/30 text-green-300 border-green-800":s.status==="failed"?"bg-red-900/30 text-red-300 border-red-800":"bg-amber-900/30 text-amber-200 border-amber-700",g=s.status==="completed"?"bg-green-400":s.status==="failed"?"bg-red-400":"bg-amber-300",y=a&&x?"Wire Transfer Initiated":"Transfer Successful!",k=a&&x?"Your wire transfer request has been submitted and is awaiting approval.":"Your transfer has been completed.";return e.jsx(D,{user:u.user,title:"Transfer Successful",currentRoute:"",children:e.jsxs("div",{className:"px-4 py-6 space-y-6 max-w-2xl mx-auto",children:[e.jsxs(c,{className:"bg-gradient-to-br from-green-600 to-emerald-600 border-0 text-white shadow-xl overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-32 -mt-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full -ml-24 -mb-24"}),e.jsx(d,{className:"pt-8 pb-8 relative z-10",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm mb-2",children:e.jsx("svg",{className:"w-12 h-12 text-white animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{animationDuration:"1s",animationIterationCount:"2"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:y}),e.jsx("p",{className:"text-green-100",children:k})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Amount Sent"}),e.jsx("p",{className:"text-4xl font-bold",children:r(s.amount)})]})]})})]}),e.jsx(c,{className:"bg-slate-900 border-slate-800",children:e.jsxs(d,{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"border-b border-slate-800 pb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-50 mb-4",children:"Transaction Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Reference Number"}),e.jsx("span",{className:"text-slate-50 font-mono text-sm",children:s.reference})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Date & Time"}),e.jsx("span",{className:"text-slate-50 text-sm",children:p(s.created_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${v}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${g}`}),w]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Transfer Type"}),e.jsx("span",{className:"text-slate-50 text-sm",children:a?"Wire Transfer":"Internal Transfer"})]})]})]}),e.jsxs("div",{className:"border-b border-slate-800 pb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Recipient Information"}),e.jsx("div",{className:"space-y-3",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Beneficiary"}),e.jsx("span",{className:"text-slate-50 font-medium",children:s.metadata?.beneficiary_name||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Bank"}),e.jsx("span",{className:"text-slate-50",children:s.metadata?.bank_name||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Account"}),e.jsx("span",{className:"text-slate-50 font-mono text-sm",children:s.metadata?.account_number||"N/A"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Name"}),e.jsx("span",{className:"text-slate-50 font-medium",children:s.recipient?.name||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Account Number"}),e.jsx("span",{className:"text-slate-50 font-mono",children:s.recipient?.account_number||"N/A"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Amount Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Transfer Amount"}),e.jsx("span",{className:"text-slate-50",children:r(s.amount)})]}),s.fee>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Transaction Fee"}),e.jsx("span",{className:"text-slate-50",children:r(s.fee)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-800",children:[e.jsx("span",{className:"text-slate-50 font-semibold",children:"Total"}),e.jsx("span",{className:"text-slate-50 font-bold text-lg",children:r(s.amount+s.fee)})]})]})]}),s.description&&e.jsxs("div",{className:"pt-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Description"}),e.jsx("p",{className:"text-slate-400 text-sm",children:s.description})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{onClick:j,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 text-base flex items-center justify-center space-x-2",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Generating PDF..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Download Receipt (PDF)"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(n,{onClick:b,variant:"outline",className:"border-slate-700 text-slate-300 hover:bg-slate-800 py-6",children:"New Transfer"}),e.jsx(n,{onClick:f,variant:"outline",className:"border-slate-700 text-slate-300 hover:bg-slate-800 py-6",children:"View History"})]}),e.jsx(n,{onClick:N,variant:"ghost",className:"w-full text-slate-400 hover:text-slate-50 hover:bg-slate-800 py-6",children:"Back to Dashboard"})]}),e.jsx(c,{className:"bg-blue-950/20 border-blue-900",children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("div",{className:"text-sm text-blue-200 space-y-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium",children:"Wire transfer initiated!"}),e.jsx("p",{children:"Your wire transfer request has been submitted and is pending admin approval. This typically takes 1-3 business days."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium",children:"Transfer completed successfully!"}),e.jsx("p",{children:"The funds have been instantly transferred to the recipient's account."})]})})]})})})]})})}export{P as default};
